# Версионирование

## Общие принципы

Для версионирования используется упрощённый SemVer-подход с тегами вида:

```v<MAJOR>.<MINOR>.<PATCH>```

### MINOR-изменения (v1.1.0 -> v1.2.0, v1.1.0 -> v.1.1.1)

Используются при незначительных изменениях или правках, которые не ломают обратную совместимость:

▶ исправления\
▶ рефакторинг\
▶ внутренняя логика composite action\
▶ багфиксы

#### Правила
▶ Создание нового тега (существует 1.1.0 -> создаем 1.1.1) при правках 
```bash
    git tag v1.1.1
```
▶ Создание нового тега (существует 1.1.0 -> создаем 1.2.0) при создании новой reusable action
```bash
    git tag v1.2.0
```
▶ После создания тега его необходимо привязать к текущей MAJOR-версии
```bash
    git tag -f v1
```

### MINOR-изменения (v1 -> v2)

MAJOR-версия увеличивается при:

▶ добавлении новой composite action\
▶ изменении логики, влияющей на поведение\
▶ изменении inputs / outputs\
▶ любых breaking changes

## Пошаговая работа с тегами

1. Выбрать файлы для коммита 
```bash
    git add .
```
2. Закоммитить изменения 
```bash
    git commit -m "Some changes"
```
3. Добавить новый тег (по правилам)
```bash
    git tag v1.5.1
```
4. Запушить на GitHub
```bash
    git push origin v1.5.1
```

Если был создан MINOR-тег (v1.1.0, v1.5.8, v2.6.1 или другой), необходимо обновить основной MAJOR-тег:
```bash
    git tag -f v1
```
Запушить MAJOR-тег с перезаписью
```bash
    git push origin v1 --force
```